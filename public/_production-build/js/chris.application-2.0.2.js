define(["jquery","chris.library","blocksit","prettify","jquery.hoverdir"],function(e,t){var n=function(){t.log("# cssModifier");var e=$(".ui-page-active"),n=e.width(),i=e.find("div#main"),s=e.find("aside#right-side");t.log(n),r(i,s,n),$(window).resize(function(){n=$(".ui-page-active").width(),t.log(n),r(i,s,n)})},r=function(e,n,r){t.log("responsive classes ..."),t.log(e),t.log(n),r<=767?(e.hasClass("col-12")&&e.removeClass("col-12 col-sm-8 col-lg-8"),n.hasClass("col-6")&&n.removeClass("col-6 col-sm-4 col-lg-4")):(e.hasClass("col-12")||e.addClass("col-12 col-sm-8 col-lg-8"),n.hasClass("col-6")||n.addClass("col-6 col-sm-4 col-lg-4"))},i=function(e){t.log("# initializeReadinglist");var n="readinglist_container",r=$("#"+e+" ."+n).width();t.log("containerWidth: "+r);var i=3;r<727&&(i=2),r<654&&(i=1),$("#"+e+" ."+n).BlocksIt({numOfCol:i,offsetX:0,offsetY:0,blockElement:".readinglist_box"}),t.log("blocksit got intialized"),t.isTouchDevice()||($("."+n+" > .readinglist_box").each(function(){$(this
).hoverdir({hoverDelay:5})}),t.log("hoverdir got intialized"))},s=function(){t.log("# loadFacebookSDK"),window.fbAsyncInit=function(){FB.init({appId:"424957510901747",status:!0,cookie:!0,xfbml:!0}),FB.XFBML.parse()},function(e){var t,n="facebook-jssdk",r=e.getElementsByTagName("script")[0];if(e.getElementById(n))return;t=e.createElement("script"),t.id=n,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",r.parentNode.insertBefore(t,r)}(document)},o=function(){t.log("# initializeGoogleAnalytics 1"),typeof _gaq!="undefined"&&(_gaq.push(["_setAccount","UA-16705563-1"]),hash=location.hash,t.log("found hash: "+hash),hash?_gaq.push(["_trackPageview",hash.substr(1)]):_gaq.push(["_trackPageview"]))},u=function(){t.log("# autoPopulateReadinglistForm");var e=$("#url").val();t.log(e),$("#alert_box").empty();if(e)$.post("/readinglist/admin/ajax/getwebsitedata?format=json",{articleurl:e},function(e){t.log(e.websiteData,"data.websiteData"),t.log(e.websiteData.description,"description"),t.log(e.websiteData
.title,"title"),t.log(e.websiteData.favicon,"favicon"),t.log(e.websiteData.image,"image"),t.log(e.websiteData.domain,"domain");if(!e.websiteData.error)$("#title").val(e.websiteData.title),$("#headline").val(e.websiteData.description),$("#imageUrl").val(e.websiteData.image),$("#favicon").val(e.websiteData.favicon),$("#domain").val(e.websiteData.domain);else{var n=$("<div>",{"class":"alert alert-error",text:e.websiteData.error});$("#alert_box").html(n)}},"json");else{var n=$("<div>",{"class":"alert alert-error",text:"No URL given"});$("#alert_box").html(n)}};return{initializeApp:function(){t.log("app got intialized")},initializeReadinglist:i,loadFacebookSDK:s,initializeGoogleAnalytics:o,autoPopulateReadinglistForm:u,cssModifier:n}});